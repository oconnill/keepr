webpackJsonp([1],{HLLU:function(t,e){},IFdJ:function(t,e){},Jtk2:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[t.loginFormActive?s("v-form",{on:{submit:function(e){e.preventDefault(),t.submitLogin()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{label:"E-mail",rules:t.emailRules,counter:10},model:{value:t.login.email,callback:function(e){t.$set(t.login,"email",e)},expression:"login.email"}}),t._v(" "),s("v-text-field",{attrs:{label:"Password",rules:t.passwordRules,type:"password"},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}}),t._v(" "),s("div",[s("v-btn",{attrs:{type:"submit",flat:""}},[t._v("Login")])],1),t._v(" "),s("div",[s("v-btn",{attrs:{type:"button",flat:""},on:{click:t.toggleFormState}},[t._v("Signup")])],1)],1):s("v-form",{on:{submit:function(e){e.preventDefault(),t.submitRegister()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{label:"Name",rules:t.nameRules,counter:10,required:""},model:{value:t.register.username,callback:function(e){t.$set(t.register,"username",e)},expression:"register.username"}}),t._v(" "),s("v-text-field",{attrs:{label:"E-mail",rules:t.emailRules,required:""},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}}),t._v(" "),s("v-text-field",{attrs:{type:"password",label:"Password",rules:t.passwordRules,counter:4,required:""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}}),t._v(" "),s("div",[s("v-btn",{attrs:{type:"submit",flat:""}},[t._v("Submit")])],1),t._v(" "),s("div")],1),t._v(" "),s("div",[s("h2",[t._v("KEEPS OF THE WORLD!!!")]),t._v(" "),t._l(t.keeps,function(e){return s("div",[s("div",{staticClass:"col-xs-4"},[s("div",[t._v(t._s(e.name))]),t._v(" "),s("img",{attrs:{src:e.keepImage}})])])})],2)],1)},staticRenderFns:[]};var a=s("VU/8")({name:"login",components:{},data:function(){return{register:{username:"",email:"",password:""},login:{email:"",password:""},nameRules:[function(t){return!!t||"Username is required"},function(t){return t.length<=10||"Name must be less than 10 characters"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length<=4||"Password must be less than 4 characters"}],valid:!1,loginFormActive:!0}},mounted:function(){this.$store.dispatch("getAllKeeps")},methods:{toggleFormState:function(){this.loginFormActive=!this.loginFormActive},submitLogin:function(){this.$store.dispatch("login",this.login),this.login={email:"",password:""}},submitRegister:function(){this.$store.dispatch("addNewUser",this.register),this.register={username:"",email:"",password:""}},logout:function(){this.$store.dispatch("logout")}},computed:{keeps:function(){return this.$store.state.keeps}}},n,!1,function(t){s("HLLU")},"data-v-8ad70056",null).exports,i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-container",[s("div",{attrs:{id:"app"}},[t.activeUser.hasOwnProperty("username")?s("div",{staticClass:"text-right logout-bar"},[s("h4",[t._v("Hello, "+t._s(t.activeUser.username))]),t._v(" "),s("button",{staticClass:"btn btn-default",on:{click:t.logout}},[t._v("Logout")])]):t._e(),t._v(" "),s("h1",{staticClass:"main-title"},[t._v("KEEPr")]),t._v(" "),s("router-view")],1)])],1)},staticRenderFns:[]};var o=s("VU/8")({name:"app",mounted:function(){this.$store.dispatch("authenticate")},methods:{logout:function(){this.$store.dispatch("logout")}},computed:{activeUser:function(){return this.$store.state.activeUser}}},i,!1,function(t){s("WNXp")},null,null).exports,r=s("7+uW"),l=s("/ocq"),c={name:"Vaults",data:function(){return{newBoard:{}}},mounted:function(){},computed:{vaults:function(){return this.$store.state.vaults},activeVault:function(){return this.$store.state.activeVault},keeps:function(){return this.$store.state.keeps}},methods:{deleteVault:function(t){this.$store.dispatch("deleteVault",t)},getVaultKeep:function(t){console.log("get vault in compnent"),this.$store.dispatch("getVaultKeep",t)}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[t._m(0),t._v(" "),t._l(t.vaults,function(e){return s("div",[s("div",[t._v(t._s(e.name))]),t._v(" "),s("v-btn",{attrs:{type:"submit",flat:""},on:{click:function(s){t.getVaultKeep(e.id)}}},[t._v("GO")]),t._v(" "),s("v-btn",{attrs:{type:"button",flat:""},on:{click:function(s){t.deleteVault(e)}}},[t._v("Delete This Vault")])],1)})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-12"},[e("h2",[this._v("My Vaults")])])}]},d=s("VU/8")(c,u,!1,null,null,null).exports,v={name:"Keeps",data:function(){return{newBoard:{},active:!1,show:!1,newVaultKeep:{VaultId:"",UserId:"",keepId:""}}},mounted:function(){},components:{},computed:{vaults:function(){return this.$store.state.vaults},keeps:function(){return this.$store.state.keeps},activeUser:function(){return this.$store.state.activeUser}},methods:{deleteKeep:function(t){this.$store.dispatch("deleteKeep",t)},addLike:function(t){t.keepCount++,this.$store.dispatch("addLike",t)},getVault:function(t){console.log("get vault in compnent"),this.$store.dispatch("getVault",t)},moveToVault:function(t,e){this.newVaultKeep.UserId=this.activeUser.id,this.newVaultKeep.KeepId=t.id,this.newVaultKeep.VaultId=e.id,this.$store.dispatch("moveToVault",this.newVaultKeep),this.newVaultKeep={VaultId:"",UserId:"",KeepId:""}},mouseOver:function(){this.active=!this.active}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("h2",[t._v("My Keeps")]),t._v(" "),t._l(t.keeps,function(e){return s("div",{staticClass:"col-sm-6"},[s("h3",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-overlay"}),t._v(" "),s("img",{staticClass:"content-image",attrs:{src:e.keepImage}}),t._v(" "),s("div",{staticClass:"content-details fadeIn-bottom"},[s("v-btn",{attrs:{flat:"",icon:"",color:"white"},on:{click:function(s){t.addLike(e)}}},[s("v-icon",{attrs:{dark:"",right:""}},[t._v("check_circle")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"white"}},[s("h5",[t._v("SHARE")])]),t._v(" "),s("h4",[t._v("Views: "+t._s(e.keepCount))]),t._v(" "),s("v-menu",{attrs:{"offset-y":""}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Add to Vault")]),t._v(" "),s("v-list",t._l(t.vaults,function(n){return s("v-list-tile",{key:n.name,on:{click:function(s){t.moveToVault(e,n)}}},[s("v-list-tile-title",[t._v(t._s(n.name))])],1)}))],1)],1)])])})],2)},staticRenderFns:[]};var m=s("VU/8")(v,p,!1,function(t){s("IFdJ")},null,null).exports,h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("h3",[t._v("Vault View")]),t._v(" "),t._l(t.vkeeps,function(e){return s("div",{staticClass:"col-sm-3"},[s("div",[t._v(t._s(e.name))]),t._v(" "),s("img",{attrs:{src:e.keepImage}}),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-menu",{attrs:{"offset-y":""}},[s("v-list",t._l(t.vaults,function(n){return s("v-list-tile",{key:n.name,on:{click:function(s){t.moveToVault(e,n)}}},[s("v-list-tile-title",[t._v(t._s(n.name))])],1)}))],1)],1),t._v(" "),s("v-btn",{attrs:{type:"button",flat:""},on:{click:function(s){t.deleteKeep(e)}}},[t._v("Delete")])],1)})],2)},staticRenderFns:[]},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",[s("h3",{staticClass:"title"},[t._v(t._s(t.keep.name))]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-overlay"}),t._v(" "),s("img",{staticClass:"content-image",attrs:{src:t.keep.keepImage}}),t._v(" "),s("div",{staticClass:"content-details fadeIn-bottom"},[s("v-btn",{attrs:{flat:"",icon:"",color:"white"},on:{click:function(e){t.addLike(t.keep)}}},[s("v-icon",{attrs:{dark:"",right:""}},[t._v("check_circle")])],1),t._v(" "),s("v-btn",{attrs:{flat:"",icon:"",color:"white"}},[s("h5",[t._v("SHARE")])]),t._v(" "),s("h4",[t._v("Views: "+t._s(t.keep.keepCount))]),t._v(" "),s("v-menu",{attrs:{"offset-y":""}},[s("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Add to Vault")]),t._v(" "),s("v-list",t._l(t.vaults,function(e){return s("v-list-tile",{key:e.name,on:{click:function(s){t.moveToVault(t.keep,e)}}},[s("v-list-tile-title",[t._v(t._s(e.name))])],1)}))],1)],1)])])])},staticRenderFns:[]};var g={name:"Home",data:function(){return{newVault:{name:"",description:"",userid:""},newKeep:{name:"",description:"",keepImage:"",keepId:"",keepCount:0}}},components:{Vaults:d,Keeps:m,Vault:s("VU/8")({name:"Vault",data:function(){return{newKeep:{}}},mounted:function(){},methods:{createKeep:function(t){this.$store.dispatch("createKeep",{id:t,list:this.newKeep}),this.newList={}},getKeeps:function(t){this.$store.dispatch("getKeeps",t)},removeList:function(t){this.$store.dispatch("removeKeep",t)},deleteKeep:function(t){this.$store.dispatch("deleteKeep",t)},deleteVault:function(t){this.$store.dispatch("deleteVault",t)}},computed:{vaults:function(){return this.$store.state.activeVault},keeps:function(){return this.$store.state.keeps},vkeeps:function(){return this.$store.state.activeVaultKeeps}},components:{}},h,!1,null,null,null).exports,AllKeeps:s("VU/8")({name:"login",components:{},data:function(){return{}},mounted:function(){this.$store.dispatch("getAllKeeps")},methods:{toggleFormState:function(){this.loginFormActive=!this.loginFormActive},submitLogin:function(){this.$store.dispatch("login",this.login),this.login={email:"",password:""}},submitRegister:function(){this.$store.dispatch("addNewUser",this.register),this.register={username:"",email:"",password:""}},logout:function(){this.$store.dispatch("logout")},moveToVault:function(t,e){this.newVaultKeep.UserId=this.activeUser.id,this.newVaultKeep.KeepId=t.id,this.newVaultKeep.VaultId=e.id,this.$store.dispatch("moveToVault",this.newVaultKeep),this.newVaultKeep={VaultId:"",UserId:"",KeepId:""}}},computed:{keeps:function(){return this.$store.state.allkeeps},activeUser:function(){return this.$store.state.activeUser},vaults:function(){return this.$store.state.vaults}}},f,!1,function(t){s("Jtk2")},"data-v-cd283a90",null).exports},mounted:function(){},computed:{vaults:function(){return this.$store.state.vaults},activeVault:function(){return this.$store.state.activeVault},activeUser:function(){return this.$store.state.activeUser},keeps:function(){return this.$store.state.keeps}},methods:{createVault:function(){this.newVault.userid=this.activeUser.id,this.$store.dispatch("createVault",this.newVault),this.newVault={name:"",description:"",userid:""}},createKeep:function(){this.newKeep.userid=this.activeUser.id,this.$store.dispatch("createKeep",this.newKeep),this.newKeep={name:"",description:"",keepImage:"",keepId:"",keepCount:0}},removeBoard:function(t){this.$store.dispatch("removeVault",t)},getVault:function(t){console.log("get vault in component"),this.$store.dispatch("getVault",t)},getAll:function(){router.push({name:"AllKeeps"})}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6"},[s("h2",[t._v("Create Vault")]),t._v(" "),s("v-form",{on:{submit:function(e){e.preventDefault(),t.createVault()}}},[s("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.newVault.name,callback:function(e){t.$set(t.newVault,"name",e)},expression:"newVault.name"}}),t._v(" "),s("v-text-field",{attrs:{label:"Description",required:""},model:{value:t.newVault.description,callback:function(e){t.$set(t.newVault,"description",e)},expression:"newVault.description"}}),t._v(" "),s("div",[s("v-btn",{attrs:{type:"submit",flat:""}},[t._v("Submit")])],1)],1)],1),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("h2",[t._v("Create Keep")]),t._v(" "),s("v-form",{on:{submit:function(e){e.preventDefault(),t.createKeep()}}},[s("v-text-field",{attrs:{label:"Title",required:""},model:{value:t.newKeep.name,callback:function(e){t.$set(t.newKeep,"name",e)},expression:"newKeep.name"}}),t._v(" "),s("v-text-field",{attrs:{label:"Description",required:""},model:{value:t.newKeep.description,callback:function(e){t.$set(t.newKeep,"description",e)},expression:"newKeep.description"}}),t._v(" "),s("v-text-field",{attrs:{label:"Image",required:""},model:{value:t.newKeep.keepImage,callback:function(e){t.$set(t.newKeep,"keepImage",e)},expression:"newKeep.keepImage"}}),t._v(" "),s("div",[s("v-btn",{attrs:{type:"submit",flat:""}},[t._v("Submit")])],1)],1)],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("v-btn",{attrs:{type:"submit",flat:""},on:{click:function(e){t.getAll()}}},[t._v("See All Keeps")]),t._v(" "),s("vaults")],1),t._v(" "),s("all-keeps"),t._v(" "),s("keeps"),t._v(" "),s("vault")],1)])},staticRenderFns:[]};var k=s("VU/8")(g,_,!1,function(t){s("iy6p")},"data-v-70495eae",null).exports,V=s("mtWM"),w=s.n(V),K=s("NYxO"),b=window.location.host.indexOf("localhost")>-1?"//localhost:5000/":"/",$=w.a.create({baseURL:b+"api/",timeout:2e3,withCredentials:!0}),U=w.a.create({baseURL:b+"accounts/",timeout:2e3,withCredentials:!0});r.a.use(K.a);var C=new K.a.Store({state:{vaults:[],activeVaults:{},keeps:[],allkeeps:[],error:{},activeUser:{},activeVaultKeeps:[]},mutations:{setVaults:function(t,e){t.vaults=e},handleError:function(t,e){t.error=e},setActiveUser:function(t,e){r.a.set(t.activeUser=e),console.log("activeUser: ",t.activeUser)},setActiveVault:function(t,e){t.activeBoard=e,console.log("activeBoard: ",t.activeBoard)},setKeeps:function(t,e){t.keeps=e},setAllKeeps:function(t,e){t.allkeeps=e},setActiveVaultKeeps:function(t,e){t.activeVaultKeeps=e,console.log("VaultKeeps: ",t.activeUser)}},actions:{addNewUser:function(t,e){var s=t.commit,n=t.dispatch;U.post("register",e).then(function(t){console.log("Response to addNewUser: ",t),s("setActiveUser",t.data),n("authenticate"),I.push({name:"Home"})}).catch(function(t){s("handleError",t)})},login:function(t,e){var s=t.commit,n=t.dispatch;U.post("login",e).then(function(t){console.log("Response to login: ",t),t.data.error?s("handleError",t.data):(s("setActiveUser",t.data),n("authenticate"),I.push({name:"Home"}))}).catch(function(t){s("handleError",t)})},logout:function(t){var e=t.commit;t.dispatch;U.delete("logout").then(function(t){console.log("Response to logout: ",t),e("setActiveUser",{}),e("keeps",[]),I.push({name:"Login"})}).catch(function(t){e("handleError",t)})},authenticate:function(t){var e=t.commit,s=t.dispatch;U("authenticate").then(function(t){console.log("Response to authenticate: ",t),e("setActiveUser",t.data),s("getVaults",t.data.id),s("getKeeps",t.data.id),I.push({name:"Home"})}).catch(function(t){I.push({name:"Login"})})},getVaults:function(t,e){var s=t.commit;t.dispatch;$("vaults/user/"+e).then(function(t){console.log("Response to GetVaults: ",t),s("setVaults",t.data)}).catch(function(t){s("handleError",t)})},getVaultKeep:function(t,e){var s=t.commit;t.dispatch;console.log("get vaultkeep by vault id"),$("vaultkeeps/user/"+e).then(function(t){console.log("res to get vault: ",t),s("setActiveVaultKeeps",t.data)}).catch(function(t){s("handleError",t)})},createVault:function(t,e){var s=t.commit,n=t.dispatch;$.post("vaults",e).then(function(t){console.log("res to create vault: ",t),n("authenticate")}).catch(function(t){s("handleError",t)})},moveToVault:function(t,e){var s=t.commit,n=t.dispatch,a={VaultId:e.VaultId,UserId:e.UserId,keepId:e.KeepId};$.post("vaultkeeps",a).then(function(t){console.log("res to create vault: ",t),n("authenticate")}).catch(function(t){s("handleError",t)})},removeVault:function(t,e){var s=t.commit,n=t.dispatch;$.delete("vaults/"+vault._id).then(function(t){n("getVaults")}).catch(function(t){s("handleError",t)})},getKeeps:function(t,e){var s=t.commit;t.dispatch;$("keeps/user/"+e).then(function(t){console.log("Response to GetKeeps: ",t),s("setKeeps",t.data)}).catch(function(t){s("handleError",t)})},getAllKeeps:function(t){var e=t.commit;t.dispatch;$("keeps").then(function(t){console.log("Response to GetKeeps: ",t),e("setAllKeeps",t.data)}).catch(function(t){e("handleError",t)})},createKeep:function(t,e){var s=t.commit,n=t.dispatch;$.post("keeps",e).then(function(t){console.log("res to create keep: ",t),n("authenticate")}).catch(function(t){s("handleError",t)})},addLike:function(t,e){var s=t.commit,n=t.dispatch;$.put("keeps/"+e.id,e).then(function(t){console.log("res to create keep: ",t),s("setKeeps",t.data),n("authenticate")}).catch(function(t){s("handleError",t)})},deleteKeep:function(t,e){var s=t.commit,n=t.dispatch;$.delete("keeps/"+e.id).then(function(t){n("authenticate")}).catch(function(t){s("handleError",t)})},deleteVault:function(t,e){var s=t.commit,n=t.dispatch;$.delete("vaults/"+e.id).then(function(t){console.log("Delete Vault: ",t),n("authenticate")}).catch(function(t){s("handleError",t)})}}});r.a.use(l.a);var I=new l.a({routes:[{path:"/home",name:"Home",component:k,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:a},{path:"/keeps",name:"Keeps",component:m}]}),E=s("3EgV"),x=s.n(E);r.a.use(x.a),r.a.use(K.a),r.a.config.productionTip=!1,new r.a({el:"#app",store:C,router:I,template:"<App/>",components:{App:o}})},WNXp:function(t,e){},iy6p:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ee76d731c87ab07e21ec.js.map